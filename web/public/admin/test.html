<!DOCTYPE html>
<html>
<head>
 <meta charset="utf-8">
 <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>
    <button onclick="getDetails(3)">조회</button>
    <div id="orderDetailModal" class="modal">
        <a><div class="modalClose"></div></a>
        <div class="orderDetailArea">
            <div class="orderDetailArea__1" id="orderDetailArea__1">
                <!-- 주문 번호 -->
            </div>

            <div class="orderDetailArea__2" id="orderDetailArea__2">
               <!-- 메뉴, 가격, 수량 -->
            </div>

            <div class="orderDetailArea__3" id="orderDetailArea__3">
                <!-- 결제 정보 -->
            </div>
            
        </div>
    </div>
</body>
<script>
    function getDetails(orderNo) {
        $.ajax({
            type: 'GET',
            url: `admin/getOrderDetails/`+orderNo,
            success: function (result) {
                // 초기화
                $('#orderDetailArea__2').empty();
                $('#orderDetailArea__3').empty();
                
                $('#orderDetailArea__2').append(
                    `<p class="detailTitle__2">주문 정보</p><br>
                    <span class="detailTitle__2 menu_name">메뉴</span>
                    <span class="detailTitle__2 count">수량</span>
                    <span class="detailTitle__2 orderDetailPrice">가격</span><br>`
                )
                for (let i=0; i<result.orderList.length; i++) {
                    $('#orderDetailArea__2').append(
                        `<span class="menu_name">${result.orderList[i].menuName}</span>
                        <span class="count">${result.orderList[i].count}</span>
                        <span class="orderDetailPrice">${result.orderList[i].orderDetailPrice}</span><br><hr>`
                    )
                }

                $('#orderDetailArea__3').append(
                    `<P>결제 정보</p><br>`
                )
                for (let i=0; i<result.payment.length; i++) {
                    $('#orderDetailArea__3').append(
                        `<span class="detailTitle__3">총 결제 금액</span><span class="paymentPrice">${result.payment[i].paymentPrice}</span>
                        <span class="detailTitle__3">결제 시간</span><span class="paymentPricepaymentTime">${result.payment[i].paymentTime}</span><br>
                        <span class="detailTitle__3">결제 수단</span><span class="paymentMethod">${result.payment[i].paymentMethod}</span>
                        <span class="detailTitle__3">결제 타입</span><span class="paymentType">${result.payment[i].paymentType}</span>`
                    )
                }
            }
        });
    }
    
</script>
</html>